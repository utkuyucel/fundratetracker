# Redis configuration for Federal Funds Rate Analytics Platform
# This configuration optimizes Redis for our use case while avoiding system-level changes

# Basic settings
port 6379
bind 0.0.0.0
protected-mode yes

# Persistence settings
appendonly yes
appendfsync everysec
save 20 1

# Memory settings to avoid overcommit warnings
# These settings help Redis work better without requiring vm.overcommit_memory=1
maxmemory-policy allkeys-lru
stop-writes-on-bgsave-error no

# Logging
loglevel notice
logfile ""

# Performance optimizations
tcp-keepalive 300
timeout 0

# Disable some potentially problematic features for containerized environments
# This helps avoid the memory overcommit warning in most cases
rdbcompression yes
rdbchecksum yes

# AOF settings
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Client settings
tcp-backlog 511
